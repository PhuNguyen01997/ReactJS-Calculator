{"version":3,"sources":["reducer.js","constants/index.js","components/Calculator-screen.js","components/Calculator-keyboard.js","components/Calculator.js","App.js","index.js","actions/index.js"],"names":["initialState","express","result","lastCharacterType","reducer","state","action","value","type","constantAction","replace","lastChar","match","isNaN","parseFloat","eval","Math","round","Number","EPSILON","NUMBER","MATH","SUBMIT","DELETE","CalScreen","this","props","className","React","Component","connect","setTimeout","$","fadeOut","CalKey","sendCalButton","val","onSendToCal","document","querySelectorAll","forEach","elem","addEventListener","dataset","arrKeyPress","window","e","includes","key","css","transform","border","removeAttr","id","data-express","dispatch","Cal","App","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","getElementById","insertNumber","calculator","deleteNumber","submit"],"mappings":"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","file":"static/js/main.07e2c618.chunk.js","sourcesContent":["import { deleteNumber, submit } from \"./actions\";\r\nimport * as constantAction from \"./constants/index\";\r\n\r\nvar initialState = {\r\n    express: \"0\",\r\n    result: \"\",\r\n    lastCharacterType: \"number\"\r\n};\r\n\r\nvar reducer = (state = initialState, action) => {\r\n    let value = action.value;\r\n    let express = state.express;\r\n\r\n    switch (action.type) {\r\n        case (constantAction.NUMBER): {\r\n            if (state.lastCharacterType === \"number\") {\r\n                express = express + value;\r\n            }\r\n            else {\r\n                express = express + \" \" + value;\r\n            }\r\n            return {\r\n                ...state,\r\n                express: express,\r\n                lastCharacterType: \"number\",\r\n            }\r\n        }\r\n        case (constantAction.MATH): {\r\n            if (state.lastCharacterType === \"math\") {\r\n                express = express.replace(/[\\*\\/+-]$/, value);\r\n            }\r\n            else {\r\n                express = express + \" \" + value;\r\n            }\r\n            return {\r\n                ...state,\r\n                express: express,\r\n                lastCharacterType: \"math\",\r\n            }\r\n        }\r\n        case (constantAction.DELETE): {\r\n            if (value === \"C\") {\r\n                return {\r\n                    ...state,\r\n                    express: \"0\",\r\n                    result: \"\",\r\n                    lastCharacterType: \"number\",\r\n                }\r\n            }\r\n            if(value === \"CE\"){\r\n                express = express.replace(/\\s?\\S+$/, \"\");\r\n                if(!express){\r\n                    express = \"0\";\r\n                }\r\n                const lastChar = express.match(/\\S+$/)[0];\r\n                const lastCharacterType = isNaN(parseFloat(lastChar)) ? \"math\" : \"number\";\r\n                return {\r\n                    ...state,\r\n                    express: express,\r\n                    lastCharacterType: lastCharacterType,\r\n                    \r\n                }\r\n            }\r\n        }\r\n        case (constantAction.SUBMIT): {\r\n            // Loại bỏ dấu =-*/ ở cuối biểu thức\r\n            express = express.replace(/\\s[^\\d]$/,\"\");\r\n\r\n            // Loại bỏ các trường hợp như: 0324 = 324, 04 = 4, 00341 = 341, 0000 = 0, để sử dụng hàm eval tính biểu thức;\r\n            express = express.replace(/(^0(?=\\d))|\\s0+(?=\\d)/g, \" \");\r\n            const result = eval(express);\r\n            return{\r\n                ...state,\r\n                result: Math.round((result + Number.EPSILON) * 100) / 100\r\n            }\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","export const NUMBER = \"NUMBER\";\r\nexport const MATH = \"MATH\";\r\nexport const SUBMIT = \"SUBMIT\";\r\nexport const DELETE = \"DELETE\";","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass CalScreen extends React.Component {\r\n    \r\n    render(){\r\n        const { express, result } = this.props;\r\n        return (\r\n            <div className=\"calculator-screen\">\r\n                <div className=\"calculator-screen__express\"><span>{express}</span></div>\r\n                <div className=\"calculator-screen__result\"><span>{result}</span></div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        express: state.express,\r\n        result: state.result\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, null) (CalScreen);","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as action from \"../actions/index\";\r\nimport $ from \"jquery\";\r\n\r\n\r\nsetTimeout(function () {\r\n    $(\".noti\").fadeOut();\r\n    // console.log(\"why\")\r\n}, 2000);\r\n\r\nclass CalKey extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    componentDidMount() {\r\n\r\n        //When click with mouse\r\n        const keyElement = document.querySelectorAll(\".calculator-keyboard__button\");\r\n        keyElement.forEach(elem => {\r\n            elem.addEventListener(\"click\", () => this.sendCalButton(elem.dataset.express));\r\n        })\r\n\r\n        //When press with keyboard\r\n        const arrKeyPress = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \".\", \"+\", \"-\", \"*\", \"/\", \"=\", \"Backspace\", \"Enter\"];\r\n        window.addEventListener(\"keydown\", (e) => {\r\n            if (arrKeyPress.includes(e.key)) {\r\n                let val = e.key;\r\n                val = (val === \"Enter\") ? \"=\" : val;\r\n                val = (val === \"Backspace\") ? \"CE\" : val;\r\n\r\n                // Animation when press keyboard\r\n                $(`button[data-express='${val}']`).css({\r\n                    transform: \"scale(1.1)\",\r\n                    border: \"1px solid white\"\r\n                });\r\n                setTimeout(function () {\r\n                    $(`button[data-express='${val}']`).removeAttr(\"style\");\r\n                }, 100);\r\n\r\n                this.sendCalButton(val);\r\n            }\r\n        })\r\n    };\r\n\r\n    sendCalButton = (val) => {\r\n        this.props.onSendToCal(val);\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"calculator-keyboard\">\r\n                <div className=\"calculator-keyboard__row\">\r\n                    <button id=\"C\" data-express=\"C\" className=\"calculator-keyboard__button calculator-keyboard__button--deleteAll\">C</button>\r\n                    <button id=\"CE\" data-express=\"CE\" className=\"calculator-keyboard__button calculator-keyboard__button--delete\">CE</button>\r\n                    <button id=\"/\" data-express=\"/\" className=\"calculator-keyboard__button calculator-keyboard__button--math\">/</button>\r\n                </div>\r\n                <div className=\"calculator-keyboard__row\">\r\n                    <button id=\"7\" data-express=\"7\" className=\"calculator-keyboard__button calculator-keyboard__button--num\">7</button>\r\n                    <button id=\"8\" data-express=\"8\" className=\"calculator-keyboard__button calculator-keyboard__button--num\">8</button>\r\n                    <button id=\"9\" data-express=\"9\" className=\"calculator-keyboard__button calculator-keyboard__button--num\">9</button>\r\n                    <button id=\"*\" data-express=\"*\" className=\"calculator-keyboard__button calculator-keyboard__button--math\">*</button>\r\n                </div>\r\n                <div className=\"calculator-keyboard__row\">\r\n                    <button id=\"4\" data-express=\"4\" className=\"calculator-keyboard__button calculator-keyboard__button--num\">4</button>\r\n                    <button id=\"5\" data-express=\"5\" className=\"calculator-keyboard__button calculator-keyboard__button--num\">5</button>\r\n                    <button id=\"6\" data-express=\"6\" className=\"calculator-keyboard__button calculator-keyboard__button--num\">6</button>\r\n                    <button id=\"-\" data-express=\"-\" className=\"calculator-keyboard__button calculator-keyboard__button--math\">-</button>\r\n                </div>\r\n                <div className=\"calculator-keyboard__row\">\r\n                    <button id=\"1\" data-express=\"1\" className=\"calculator-keyboard__button calculator-keyboard__button--num\">1</button>\r\n                    <button id=\"2\" data-express=\"2\" className=\"calculator-keyboard__button calculator-keyboard__button--num\">2</button>\r\n                    <button id=\"3\" data-express=\"3\" className=\"calculator-keyboard__button calculator-keyboard__button--num\">3</button>\r\n                    <button id=\"+\" data-express=\"+\" className=\"calculator-keyboard__button calculator-keyboard__button--math\">+</button>\r\n                </div>\r\n                <div className=\"calculator-keyboard__row\">\r\n                    <button id=\"0\" data-express=\"0\" className=\"calculator-keyboard__button calculator-keyboard__button--num\">0</button>\r\n                    <button id=\".\" data-express=\".\" className=\"calculator-keyboard__button calculator-keyboard__button--dot\">.</button>\r\n                    <button id=\"=\" data-express=\"=\" className=\"calculator-keyboard__button calculator-keyboard__button--submit\">=</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n    return {\r\n        onSendToCal: (val) => {\r\n            if (val === \"=\") {\r\n                dispatch(action.submit());\r\n            }\r\n            else if (val === \"+\" || val === \"-\" || val === \"*\" || val === \"/\") {\r\n                dispatch(action.calculator(val));\r\n            }\r\n            else if (val === \"CE\" || val === \"C\") {\r\n                dispatch(action.deleteNumber(val));\r\n            }\r\n            else {\r\n                dispatch(action.insertNumber(val));\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(CalKey);","import CalScreen from \"./Calculator-screen\";\r\nimport CalKey from \"./Calculator-keyboard\";\r\n\r\nfunction Cal() {\r\n    return (\r\n        <div className=\"calculator-contain\">\r\n            <div className=\"calculator\">\r\n                <CalScreen/>\r\n                <CalKey/>\r\n                <h1 className=\"noti\">You can also press from the keyboard</h1>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Cal;","import Cal from \"./components/Calculator\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Cal/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport reducer from \"./reducer\";\nimport { createStore } from 'redux';\n\nconst store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","import * as constantAction from \"../constants/index\";\r\n\r\nexport const insertNumber = (value) => {\r\n    return{\r\n        type: constantAction.NUMBER,\r\n        value: value\r\n    };\r\n}\r\nexport const calculator = (value) => {\r\n    return{\r\n        type: constantAction.MATH,\r\n        value: value\r\n    };\r\n}\r\nexport const deleteNumber = (value) => {\r\n    return{\r\n        type: constantAction.DELETE,\r\n        value: value\r\n    };\r\n}\r\nexport const submit = () => {\r\n    return{\r\n        type: constantAction.SUBMIT,\r\n    };\r\n}"],"sourceRoot":""}